<!DOCTYPE html>
<html>

<head lang="en">
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>固定导航栏</title>
  <style>
    * {
      margin: 0;
      padding: 0
    }

    body {
      background-color: #F6F6F6;
    }

    img {
      vertical-align: top;
    }

    .main {
      margin: 0 auto;
      width: 1000px;
      margin-top: 10px;
    }

    #nav {
      overflow: hidden;
    }

    .fixed {
      position: fixed;
      top: 0;
      left: 0;
    }
  </style>
</head>

<body>
  <div class="top" id="top">
    <img src="image/top.png" alt="" />
  </div>
  <div id="nav">
    <img src="image/nav.png" alt="" />
  </div>
  <div class="main" id="main">
    <img src="image/main1.png" alt="" />
    <img src="image/main2.png" alt="" />
    <img src="image/main3.png" alt="" />
  </div>

  <!--引入工具js-->
  <script src="./js/tools.js"></script>
  <script>
    window.onload = function () {
      //需求1：当我们滚动界面的时候，被卷曲的头部如果超过第二个盒子距离顶部的位置，那么直接给第二个盒子加类名.fixed
      //需求2：当我们滚动界面的时候，被卷曲的头部如果小于第二个盒子距离顶部的位置，那么直接给第二个盒子取消类名.fixed
      //1.老三步
      let topDiv = document.getElementById("top");
      let height = topDiv.offsetHeight;
      let middle = document.getElementById("nav");
      let main = document.getElementById("main");
      window.onscroll = function () {
        //2.判断被卷曲的头部的大小
        if (scroll().top > height) {
          //3.满足条件添加类，否则删除类
          middle.className += " fixed";
          //第二个盒子也要占位置，为了避免重叠，我们给第三个盒子一个上padding的空间，把这个空间留给第二个盒子
          main.style.paddingTop = middle.offsetHeight + "px";
        } else {
          middle.className = "";
          //清零
          main.style.paddingTop = 0;
        }
      }
    }
  </script>
</body>

</html>